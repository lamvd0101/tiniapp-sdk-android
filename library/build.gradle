apply plugin: "com.android.library"

def safeExtGet(prop, fallback) {
    rootProject.ext.has(prop) ? rootProject.ext.get(prop) : fallback
}

repositories {
    maven {
        url("$rootDir/localLibs")
    }
}

android {
    compileSdkVersion safeExtGet("compileSdkVersion", 30)
    buildToolsVersion safeExtGet("buildToolsVersion", "30.0.3")

    compileOptions {
        sourceCompatibility JavaVersion.VERSION_1_8
        targetCompatibility JavaVersion.VERSION_1_8
    }

    defaultConfig {
        minSdkVersion safeExtGet("minSdkVersion", 21)
        targetSdkVersion safeExtGet("targetSdkVersion", 30)
    }
}

dependencies {
    implementation "org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.3.50"

    // React-Native 0.61.5
    api "com.facebook.infer.annotation:infer-annotation:0.11.2"
    api "javax.inject:javax.inject:1"
    api "androidx.appcompat:appcompat:1.0.2"
    api "com.facebook.fresco:fresco:2.0.0"
    api "com.facebook.fresco:imagepipeline-okhttp3:2.0.0"
    api "com.facebook.soloader:soloader:0.6.0"
    api "com.google.code.findbugs:jsr305:3.0.2"
    api "com.squareup.okhttp3:okhttp:3.12.1"
    api "com.squareup.okhttp3:okhttp-urlconnection:3.12.1"
    api "com.squareup.okio:okio:1.15.0"

    fileTree("${rootDir}/libs").visit { FileVisitDetails details ->
        api "vn.tiki:${details.name.replace(".aar", "")}"
    }

    // Libs
    implementation "com.github.henninghall:numberpickerview:v1.1.5"
    implementation "org.apache.commons:commons-lang3:3.8"
    implementation group: "net.time4j", name: "time4j-android", version: "4.8-2021a"

    implementation "com.google.zxing:core:3.3.3"

    implementation "com.facebook.conceal:conceal:1.1.3@aar"

    implementation "androidx.swiperefreshlayout:swiperefreshlayout:1.1.0"
    implementation "com.github.yalantis:ucrop:2.2.6-native"
    implementation "com.github.CanHub:Android-Image-Cropper:3.2.2"

    implementation "com.google.maps.android:android-maps-utils:0.5"
    implementation "com.google.android.gms:play-services-base:17.0.0"
    implementation "com.google.android.gms:play-services-maps:17.0.0"
    implementation "com.google.android.gms:play-services-location:17.0.0"
    implementation "com.google.maps.android:android-maps-utils:0.5"

    implementation "com.github.MatrixFrog:android-scalablevideoview:v1.0.4-jitpack"
}
